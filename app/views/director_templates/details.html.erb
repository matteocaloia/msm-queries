<h1>Director #<%= @director.id %> details</h1>

<a href="/directors">Go back</a>

<hr>

<dl>
  <dt>Name</dt>
  <dd><%= @director.name %></dd>

  <dt>Date of birth</dt>
  <dd><%= @director.dob %></dd>

  <dt>Bio</dt>
  <dd><%= @director.bio %></dd>

  <dt>Image</dt>
  <dd>
    <img src="<%= @director.image %>" width="200">
  </dd>

  <dt>Created at</dt>
  <dd><%= @director.created_at %></dd>

  <dt>Updated at</dt>
  <dd><%= @director.updated_at %></dd>
</dl>


<h2>Filmography</h2>

<%#= :director_id %>
<% matching_movies = Movie.where({ :director_id => @director.id })%>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Image</th>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th></th>
  </tr>


<%= matching_movies.each do |movie| %>
  <tr>
    <td><%= movie.id %></td>
    <td>
      <img src ="<%= movie.image %>" width = "100">
    </td>
    <td><%= movie.title %></td>
    <td><%= movie.year %></td>
    <td><%= movie.director_id %></td>
    <td><a href="/movies/<%=movie.id%>"> Show details</a></td>
  </tr>
<%end%>

